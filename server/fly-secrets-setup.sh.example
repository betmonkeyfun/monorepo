#!/bin/bash
# Setup Fly.io secrets for BetMonkey Server
# Run this script after creating your fly app: fly apps create

set -e

echo "üîê Setting up Fly.io secrets for BetMonkey..."

# IMPORTANT: Copy this file to fly-secrets-setup.sh and replace with your actual values
# DO NOT commit fly-secrets-setup.sh to git!

# Set all secrets at once for efficiency
fly secrets set \
  FACILITATOR_PORT="3001" \
  FACILITATOR_PRIVATE_KEY="YOUR_FACILITATOR_PRIVATE_KEY_HERE" \
  FACILITATOR_PUBLIC_KEY="YOUR_FACILITATOR_PUBLIC_KEY_HERE" \
  SERVER_PORT="3000" \
  SERVER_URL="http://localhost:3000" \
  FACILITATOR_URL="http://localhost:3001" \
  CASINO_PORT="8080" \
  CASINO_URL="http://localhost:8080" \
  MERCHANT_SOLANA_ADDRESS="YOUR_MERCHANT_ADDRESS_HERE" \
  SOLANA_RPC_URL="https://api.devnet.solana.com" \
  SOLANA_WS_URL="wss://api.devnet.solana.com" \
  SOLANA_NETWORK="devnet" \
  DATABASE_PATH="/data/casino.db" \
  CASINO_DATABASE_PATH="/data/casino.db" \
  MAX_PAYMENT_AMOUNT="1000000000" \
  NONCE_EXPIRY_HOURS="24" \
  SIMULATE_TRANSACTIONS="false" \
  USDC_MINT_ADDRESS="4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU" \
  USDC_DECIMALS="6" \
  REQUEST_TIMEOUT="30000" \
  RETRY_ATTEMPTS="3" \
  RETRY_DELAY="1000" \
  REQUEST_BODY_LIMIT="10mb" \
  CLEANUP_INTERVAL_HOURS="1" \
  ROULETTE_QUICK_AMOUNT="1000000" \
  ROULETTE_CUSTOM_AMOUNT="10000000"

echo "‚úÖ All secrets configured successfully!"
echo ""
echo "üìù Next steps:"
echo "1. Create volume: fly volumes create betmonkey_data --size 1"
echo "2. Deploy app: fly deploy"
echo "3. Check logs: fly logs"
